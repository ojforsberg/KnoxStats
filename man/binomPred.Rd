% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/binomPred.R
\name{binomPred}
\alias{binomPred}
\title{Binomial Predictions}
\usage{
binomPred(x, n, conf.level = 0.95)
}
\arguments{
\item{x}{Integer. The number of successes observed in the sample.}

\item{n}{Integer. The total number of trials (sample size).}

\item{conf.level}{Numeric. The confidence level for the prediction interval.
Must be between 0 and 1. Default is 0.95 (95\% confidence interval).}
}
\value{
A list with three elements:
\itemize{
\item \code{name}: Character string describing the interval type
\item \code{lower}: The lower bound of the prediction interval
\item \code{upper}: The upper bound of the prediction interval
}
}
\description{
Calculates prediction intervals for binomial proportions. This function estimates
the range in which future observations are likely to fall based on observed
sample data, using the normal approximation to the binomial distribution.
}
\details{
This function calculates prediction intervals for binomial proportions using
the normal approximation method. A prediction interval provides a range of
values that is likely to contain future observations, unlike a confidence
interval which provides a range for a population parameter.

The formula used is based on the normal approximation:

\deqn{\hat{p} \pm z_{\alpha/2} \times \sqrt{\hat{p}(1-\hat{p}) \times \left(1 + \frac{1}{n}\right)}}{%
p̂ ± z_{α/2} × √[p̂(1-p̂) × (1 + 1/n)]}

where:
\itemize{
\item \eqn{\hat{p} = x/n} is the sample proportion
\item \eqn{z_{\alpha/2}} is the critical value from the standard normal distribution
\item \eqn{n} is the sample size
}

The normal approximation works best when \eqn{n\hat{p} \geq 5}{n×p̂ ≥ 5} and
\eqn{n(1-\hat{p}) \geq 5}{n×(1-p̂) ≥ 5}. For small samples or extreme proportions,
exact methods may be more appropriate.
}
\section{Warning}{

This function uses the normal approximation, which may not be accurate for
small sample sizes or extreme proportions. When \eqn{n\hat{p} < 5}{n×p̂ < 5} 
or \eqn{n(1-\hat{p}) < 5}{n×(1-p̂) < 5}, consider using exact methods or
simulation-based approaches.
}

\examples{
# Basic example: 15 successes out of 20 trials
binomPred(15, 20)

# With 90\% confidence level
binomPred(15, 20, conf.level = 0.90)

# Multiple examples showing different scenarios
results <- list(
  "High success" = binomPred(18, 20),
  "Moderate success" = binomPred(10, 20),
  "Low success" = binomPred(2, 20)
)

# Print all results
results

# Extract just the intervals
lapply(results, function(x) c(lower = x$lower, upper = x$upper))

# What does a 99\% confidence interval look like?
binomPred(15, 20, conf.level = 0.99)

# Error handling: invalid confidence level
try(binomPred(10, 20, conf.level = 1.5))

}
\references{
Agresti, Alan, and Brent A. Coull. 1998. "Approximate Is Better Than 'Exact'
for Interval Estimation of Binomial Proportions." \emph{American Statistician} 52 (2): 119–26.

Brown, Lawrence D., T. Tony Cai, and Anirban DasGupta. 2001. "Interval
Estimation for a Binomial Proportion." \emph{Statistical Science} 16 (2): 101–33.
}
\seealso{
\code{\link[stats]{binom.test}} for exact binomial tests and confidence intervals,
\code{\link[stats]{qnorm}} for normal distribution quantiles,
\code{\link{prop.test}} for testing proportions
}
